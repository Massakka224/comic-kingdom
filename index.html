<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Comic Kingdom â€“ Version 8</title>

<style>
body { font-family: Arial, sans-serif; background:#f2f2f2; margin:0; padding:0 }
h1,h2,h3{text-align:center}
button{padding:10px;margin:5px;width:100%;font-size:16px}
nav{position:fixed;top:0;left:0;right:0;background:#fff;padding:5px;z-index:10}
.section{display:none;padding:80px 10px}
.section.active{display:block}
.box{background:#fff;padding:10px;margin:10px 0;border-radius:10px}
.item{border:1px solid #ccc;padding:8px;margin:5px 0;cursor:pointer}
.item:hover{background:#eee}
.grid{display:grid;grid-template-columns:1fr 1fr;gap:10px}
</style>
</head>

<body>

<!-- NAV -->
<nav id="mainNav" style="display:none">
<button onclick="show('status')">Status</button>
<button onclick="show('quests')">Quests</button>
<button onclick="show('dungeon')">Dungeon</button>
<button onclick="show('stadt')">Stadt</button>
<button onclick="show('inventar')">Inventar</button>
<button onclick="show('ausruestung')">AusrÃ¼stung</button>
<button onclick="saveGame()">ğŸ’¾ Speichern</button>
</nav>

<!-- START / CHARAKTER -->
<div id="start" class="section active">
<h1>Comic Kingdom</h1>
<div class="box">
<button onclick="newCharacter()">Neuer Charakter</button>
<button onclick="loadGame()">Charakter laden</button>
<button onclick="deleteGame()">Charakter lÃ¶schen</button>
</div>
</div>

<!-- STATUS -->
<div id="status" class="section">
<h2>Status</h2>
<div class="box">
<p>Name: <span id="pname"></span></p>
<p>Klasse: <span id="pclass"></span></p>
<p>Level: <span id="plevel"></span></p>
<p>Gold: <span id="pgold"></span></p>
<p>Energie: <span id="penergy"></span></p>
</div>
</div>

<!-- QUESTS -->
<div id="quests" class="section">
<h2>Quests</h2>
<div class="box">
<button onclick="doQuest()">Quest abschlieÃŸen</button>
<p id="qtext"></p>
</div>
</div>

<!-- DUNGEON -->
<div id="dungeon" class="section">
<h2>Dungeon</h2>
<div class="box">
<button onclick="doDungeon()">Dungeon betreten</button>
<p id="dtext"></p>
</div>
</div>

<!-- STADT -->
<div id="stadt" class="section">
<h2>Stadt</h2>
<div class="box grid">
<button onclick="alert('Taverne: Quests & Buffs (kommt spÃ¤ter)')">ğŸº Taverne</button>
<button onclick="alert('Schmiede: Upgrades (kommt spÃ¤ter)')">âš’ Schmiede</button>
<button onclick="alert('Festung: Boni (kommt spÃ¤ter)')">ğŸ° Festung</button>
<button onclick="alert('Steinbruch: Ressourcen (kommt spÃ¤ter)')">ğŸª¨ Steinbruch</button>
</div>
</div>

<!-- INVENTAR -->
<div id="inventar" class="section">
<h2>Inventar</h2>
<div class="box" id="inv"></div>
</div>

<!-- AUSRÃœSTUNG -->
<div id="ausruestung" class="section">
<h2>AusrÃ¼stung</h2>
<div class="box" id="equip"></div>
</div>

<script>
/* ====== DATEN ====== */
const rarityLimits = [
 {name:"gewÃ¶hnlich",lvl:1},
 {name:"ungewÃ¶hnlich",lvl:20},
 {name:"selten",lvl:30},
 {name:"episch",lvl:100},
 {name:"legendÃ¤r",lvl:150},
 {name:"mystisch",lvl:500},
 {name:"himmlisch",lvl:700}
];

const classes = {
 Krieger:{stat:"str"},
 Magier:{stat:"int"},
 Kundschafter:{stat:"dex"},
 Assassine:{stat:"dex"},
 Berserker:{stat:"str"},
 Nekromant:{stat:"int"}
};

let player=null;
let inventory=[];
let equipped=null;

/* ====== START ====== */
function newCharacter(){
 let name=prompt("Name?");
 let cls=prompt("Klasse: Krieger / Magier / Kundschafter / Assassine / Berserker / Nekromant");
 if(!classes[cls]) return alert("UngÃ¼ltige Klasse");
 player={name,cls,level:1,gold:50,energy:100};
 inventory=[];
 equipped=null;
 startGame();
}

function startGame(){
 document.getElementById("start").classList.remove("active");
 document.getElementById("mainNav").style.display="block";
 show("status");
 updateUI();
 saveGame();
}

function saveGame(){
 localStorage.setItem("ck_save",JSON.stringify({player,inventory,equipped}));
}

function loadGame(){
 let s=localStorage.getItem("ck_save");
 if(!s) return alert("Kein Spielstand");
 let data=JSON.parse(s);
 player=data.player;
 inventory=data.inventory;
 equipped=data.equipped;
 startGame();
}

function deleteGame(){
 localStorage.removeItem("ck_save");
 alert("GelÃ¶scht");
}

/* ====== UI ====== */
function show(id){
 document.querySelectorAll(".section").forEach(s=>s.classList.remove("active"));
 document.getElementById(id).classList.add("active");
 updateUI();
}

function updateUI(){
 if(!player) return;
 pname.textContent=player.name;
 pclass.textContent=player.cls;
 plevel.textContent=player.level;
 pgold.textContent=player.gold;
 penergy.textContent=player.energy;

 inv.innerHTML="";
 inventory.forEach((it,i)=>{
  let d=document.createElement("div");
  d.className="item";
  d.textContent=`${it.name} (${it.rarity})`;
  d.onclick=()=>equipItem(i);
  inv.appendChild(d);
 });

 equip.innerHTML= equipped ? equipped.name : "Nichts ausgerÃ¼stet";
}

/* ====== SPIEL ====== */
function doQuest(){
 player.energy-=10;
 player.gold+=20;
 player.level++;
 giveItem();
 qtext.textContent="Quest abgeschlossen!";
 saveGame();updateUI();
}

function doDungeon(){
 player.energy-=20;
 player.gold+=50;
 player.level+=2;
 giveItem();
 dtext.textContent="Dungeon geschafft!";
 saveGame();updateUI();
}

function giveItem(){
 let possible=rarityLimits.filter(r=>player.level>=r.lvl);
 let rarity=possible[Math.floor(Math.random()*possible.length)].name;
 let item={
  name:generateName(rarity),
  rarity,
  classReq:player.cls
 };
 inventory.push(item);
}

function generateName(r){
 const base=["Schwert","Stab","Helm","Ring","RÃ¼stung","Dolch"];
 return base[Math.floor(Math.random()*base.length)]+" des "+r;
}

function equipItem(i){
 let it=inventory[i];
 if(it.classReq!==player.cls) return alert("Falsche Klasse");
 equipped=it;
}

/* ====== AUTOLOAD ====== */
if(localStorage.getItem("ck_save")) loadGame();
</script>

</body>
</html>
