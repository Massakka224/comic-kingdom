<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Comic Kingdom – Version 11</title>

<style>
body {
  font-family: Arial, sans-serif;
  background:#f2f2f2;
  margin:0;
  padding-top:80px;
}

nav {
  position:fixed;
  top:0; left:0; right:0;
  background:#fff;
  padding:10px;
  display:flex;
  gap:5px;
  z-index:10;
}

nav button {
  flex:1;
  padding:10px;
  font-size:14px;
}

.section { display:none; padding:15px; }
.section.active { display:block; }

.box {
  background:#fff;
  padding:15px;
  border-radius:10px;
  margin-bottom:15px;
}

.item {
  border:1px solid #ccc;
  padding:10px;
  margin:5px 0;
  cursor:pointer;
}
.item:hover { background:#eee; }
</style>
</head>

<body>

<nav>
<button onclick="show('status')">Status</button>
<button onclick="show('quests')">Quests</button>
<button onclick="show('stadt')">Stadt</button>
<button onclick="show('inventar')">Inventar</button>
</nav>

<!-- STATUS -->
<div id="status" class="section active">
<div class="box">
<h2>Status</h2>
<p>Klasse: <b id="klasse"></b></p>
<p>Level: <span id="level"></span></p>
<p>XP: <span id="xp"></span></p>
<p>Gold: <span id="gold"></span></p>
</div>
</div>

<!-- QUESTS -->
<div id="quests" class="section">
<div class="box">
<h2>Quest</h2>
<button onclick="finishQuest()">Quest abschließen</button>
<p id="questResult"></p>
</div>
</div>

<!-- STADT -->
<div id="stadt" class="section">
<div class="box">
<h2>Stadt</h2>
<p>Gebäude (werden erweitert):</p>
<ul>
<li>Schmiede</li>
<li>Taverne</li>
<li>Magier</li>
</ul>
</div>
</div>

<!-- INVENTAR -->
<div id="inventar" class="section">
<div class="box">
<h2>Inventar</h2>
<div id="inventoryBox">Inventar leer</div>
</div>
</div>

<script>
// ================= SPIELER =================
const player = {
  class: "Krieger", // später auswählbar
  level: 1,
  xp: 0,
  gold: 50,
  inventory: []
};

// ================= KLASSEN-ITEMS =================
const classItems = {
  Krieger: [
    "Schwert der Ehre",
    "Axt des Zorns",
    "Klinge des Titans",
    "Stahlbrecher"
  ],
  Magier: [
    "Stab der Weisheit",
    "Flammenfokus",
    "Kristallstab",
    "Sternenrufer"
  ],
  Kundschafter: [
    "Dolch der Schatten",
    "Bogen des Windes",
    "Nachtklinge",
    "Jägersplitter"
  ],
  Nekromant: [
    "Seelensichel",
    "Stab der Verdammnis",
    "Knochenzepter",
    "Fluchbringer"
  ]
};

// ================= QUALITÄTEN =================
const qualities = [
  { name:"Gewöhnlich", min:1 },
  { name:"Ungewöhnlich", min:20 },
  { name:"Selten", min:30 },
  { name:"Episch", min:100 },
  { name:"Legendär", min:150 }
];

// ================= NAV =================
function show(id) {
  document.querySelectorAll(".section").forEach(s => s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

// ================= ITEM GENERATOR =================
function generateItem() {
  const possibleQualities = qualities.filter(q => player.level >= q.min);
  const quality = possibleQualities[Math.floor(Math.random() * possibleQualities.length)];

  const names = classItems[player.class];
  const name = names[Math.floor(Math.random() * names.length)];

  return {
    name: name,
    quality: quality.name,
    level: player.level,
    classReq: player.class
  };
}

// ================= QUEST =================
function finishQuest() {
  const xpGain = 20;
  const goldGain = 15;

  player.xp += xpGain;
  player.gold += goldGain;

  if (player.xp >= 100) {
    player.level++;
    player.xp = 0;
  }

  const item = generateItem();
  player.inventory.push(item);

  document.getElementById("questResult").innerHTML =
    `+${xpGain} XP<br>+${goldGain} Gold<br>Item erhalten: <b>${item.name}</b>`;

  updateUI();
}

// ================= UI =================
function updateUI() {
  document.getElementById("klasse").innerText = player.class;
  document.getElementById("level").innerText = player.level;
  document.getElementById("xp").innerText = player.xp;
  document.getElementById("gold").innerText = player.gold;

  const inv = document.getElementById("inventoryBox");
  inv.innerHTML = "";

  if (player.inventory.length === 0) {
    inv.innerText = "Inventar leer";
  } else {
    player.inventory.forEach((item, index) => {
      const div = document.createElement("div");
      div.className = "item";
      div.innerHTML = `
        <b>${item.name}</b><br>
        Qualität: ${item.quality}<br>
        Level: ${item.level}
      `;

      div.onclick = (e) => {
        e.stopPropagation();
        alert(
          `${item.name}\n\nQualität: ${item.quality}\nItem-Level: ${item.level}\nKlasse: ${item.classReq}`
        );
      };

      inv.appendChild(div);
    });
  }
}

updateUI();
</script>

</body>
</html>
