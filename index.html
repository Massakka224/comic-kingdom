<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Comic Kingdom - Version 5</title>

<style>
  body { font-family: Arial, sans-serif; background: #f5f5f5; padding: 1em; }
  h1, h2 { text-align: center; }
  button { width: 100%; padding: 1em; margin: 0.5em 0; font-size: 1.1em; }
  .section { display: none; }
  .section.active { display: block; }
  .box { background: white; padding: 1em; margin-bottom: 1em; }
  .row { display: flex; gap: 10px; }
  .col { flex: 1; }
</style>
</head>

<body>
<h1>Comic Kingdom - Version 5</h1>

<nav>
  <button onclick="show('status')">Status</button>
  <button onclick="show('taverne')">Taverne</button>
  <button onclick="show('quests')">Quests</button>
  <button onclick="show('stadt')">Stadt</button>
  <button onclick="show('dungeon')">Dungeons</button>
  <button onclick="show('skills')">Skills</button>
</nav>

<div id="status" class="section active">
  <h2>Status</h2>
  <div class="box">
    <p>Level: <span id="level">1</span></p>
    <p>Gold: <span id="gold">50</span></p>
    <p>Schokolade: <span id="schoko">1</span></p>
    <p>Klasse: <span id="klasse">Krieger</span></p>
    <p>Erfahrung: <span id="exp">0</span> / <span id="expNext">100</span></p>
    <p>Rüstung: <span id="armor">Gewöhnlich</span></p>
    <p>Waffe: <span id="weapon">Schwert</span></p>
  </div>
</div>

<div id="taverne" class="section">
  <h2>Taverne</h2>
  <button onclick="acceptQuest()">Quest annehmen</button>
  <button onclick="eat()">Essen kaufen (Buff)</button>
</div>

<div id="quests" class="section">
  <h2>Quest</h2>
  <p id="questText">Keine aktive Quest</p>
  <button onclick="finishQuest()">Quest abschließen</button>
</div>

<div id="stadt" class="section">
  <h2>Stadt</h2>
  <div class="box">
    <p>➡️ „Baue Gebäude, sammle Ressourcen und verbessere deine Ausrüstung.“</p>
    <button onclick="build()">Gebäude bauen (Ressourcen)</button>
  </div>
</div>

<div id="dungeon" class="section">
  <h2>Dungeons</h2>
  <p>Du brauchst einen Dungeon-Schlüssel, um einen Dungeon zu betreten.</p>
  <button onclick="findKey()">Dungeon-Schlüssel finden</button>
  <p>Schlüssel: <span id="keys">0</span></p>
  <button onclick="enterDungeon()">Dungeon betreten</button>
  <p id="dungeonText">Noch kein Dungeon betreten.</p>
</div>

<div id="skills" class="section">
  <h2>Skills</h2>
  <p>Skillpunkte: <span id="skillPoints">0</span></p>
  <button onclick="buySkill()">Skill kaufen (10 Gold)</button>
</div>

<script>
let level = 1;
let gold = 50;
let schoko = 1;
let exp = 0;
let expNext = 100;
let questActive = false;
let keys = 0;
let skillPoints = 0;

let player = {
  klasse: "Krieger",
  weapon: "Schwert",
  armor: "Gewöhnlich",
  str: 10,
  int: 5,
  dex: 5
};

function show(id) {
  document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

function updateUI() {
  document.getElementById("level").innerText = level;
  document.getElementById("gold").innerText = gold;
  document.getElementById("schoko").innerText = schoko;
  document.getElementById("exp").innerText = exp;
  document.getElementById("expNext").innerText = expNext;
  document.getElementById("keys").innerText = keys;
  document.getElementById("skillPoints").innerText = skillPoints;
  document.getElementById("klasse").innerText = player.klasse;
  document.getElementById("weapon").innerText = player.weapon;
  document.getElementById("armor").innerText = player.armor;
}

function acceptQuest() {
  if (questActive) {
    alert("Du hast bereits eine Quest.");
    return;
  }
  questActive = true;
  document.getElementById("questText").innerText = "Quest läuft… Monster bekämpfen.";
  show('quests');
}

function finishQuest() {
  if (!questActive) {
    alert("Keine aktive Quest.");
    return;
  }
  questActive = false;
  exp += 50;
  gold += 20;
  checkLevel();
  updateUI();
  document.getElementById("questText").innerText = "Quest abgeschlossen!";
}

function eat() {
  if (gold < 10) {
    alert("Nicht genug Gold.");
    return;
  }
  gold -= 10;
  updateUI();
  alert("Buff aktiv!");
}

function cityGuard() {
  gold += 5;
  updateUI();
}

function build() {
  // Simples Ressourcensystem
  gold += 5;
  updateUI();
  alert("Gebäude gebaut! (Ressourcen erhalten)");
}

function findKey() {
  keys++;
  updateUI();
  alert("Dungeon-Schlüssel gefunden!");
}

function enterDungeon() {
  if (keys <= 0) {
    alert("Du brauchst einen Schlüssel!");
    return;
  }
  keys--;
  updateUI();
  dungeonBattle();
}

function dungeonBattle() {
  let enemy = {
    name: "Kobold",
    hp: 50,
    atk: 5
  };

  let playerAtk = player.str + (player.weapon === "Zweihänder Axt" ? 10 : 5);
  let enemyHp = enemy.hp;

  while (enemyHp > 0) {
    enemyHp -= playerAtk;
    if (enemyHp <= 0) break;
    // enemy attacks
    // player takes damage (not implemented for simplicity)
  }

  exp += 80;
  gold += 50;
  skillPoints += 1;
  checkLevel();
  updateUI();
  document.getElementById("dungeonText").innerText = "Dungeon abgeschlossen! Boss besiegt.";
}

function checkLevel() {
  while (exp >= expNext) {
    exp -= expNext;
    level++;
    expNext = Math.floor(expNext * 1.2);
    gold += 20;
    skillPoints += 1;
    alert("Level up!");
  }
}

function buySkill() {
  if (gold < 10) {
    alert("Nicht genug Gold.");
    return;
  }
  gold -= 10;
  skillPoints++;
  updateUI();
}

// save system
function save() {
  const saveData = {
    level, gold, schoko, exp, expNext, keys, skillPoints, player, questActive
  };
  localStorage.setItem("comicKingdomV5", JSON.stringify(saveData));
}

function load() {
  const saveData = JSON.parse(localStorage.getItem("comicKingdomV5"));
  if (!saveData) return;
  level = saveData.level;
  gold = saveData.gold;
  schoko = saveData.schoko;
  exp = saveData.exp;
  expNext = saveData.expNext;
  keys = saveData.keys;
  skillPoints = saveData.skillPoints;
  player = saveData.player;
  questActive = saveData.questActive;
  updateUI();
}

window.onload = () => {
  load();
  updateUI();
  setInterval(save, 2000);
};

</script>
</body>
</html><!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Comic Kingdom - Version 5</title>

<style>
  body { font-family: Arial, sans-serif; background: #f5f5f5; padding: 1em; }
  h1, h2 { text-align: center; }
  button { width: 100%; padding: 1em; margin: 0.5em 0; font-size: 1.1em; }
  .section { display: none; }
  .section.active { display: block; }
  .box { background: white; padding: 1em; margin-bottom: 1em; }
  .row { display: flex; gap: 10px; }
  .col { flex: 1; }
</style>
</head>

<body>
<h1>Comic Kingdom - Version 5</h1>

<nav>
  <button onclick="show('status')">Status</button>
  <button onclick="show('taverne')">Taverne</button>
  <button onclick="show('quests')">Quests</button>
  <button onclick="show('stadt')">Stadt</button>
  <button onclick="show('dungeon')">Dungeons</button>
  <button onclick="show('skills')">Skills</button>
</nav>

<div id="status" class="section active">
  <h2>Status</h2>
  <div class="box">
    <p>Level: <span id="level">1</span></p>
    <p>Gold: <span id="gold">50</span></p>
    <p>Schokolade: <span id="schoko">1</span></p>
    <p>Klasse: <span id="klasse">Krieger</span></p>
    <p>Erfahrung: <span id="exp">0</span> / <span id="expNext">100</span></p>
    <p>Rüstung: <span id="armor">Gewöhnlich</span></p>
    <p>Waffe: <span id="weapon">Schwert</span></p>
  </div>
</div>

<div id="taverne" class="section">
  <h2>Taverne</h2>
  <button onclick="acceptQuest()">Quest annehmen</button>
  <button onclick="eat()">Essen kaufen (Buff)</button>
</div>

<div id="quests" class="section">
  <h2>Quest</h2>
  <p id="questText">Keine aktive Quest</p>
  <button onclick="finishQuest()">Quest abschließen</button>
</div>

<div id="stadt" class="section">
  <h2>Stadt</h2>
  <div class="box">
    <p>➡️ „Baue Gebäude, sammle Ressourcen und verbessere deine Ausrüstung.“</p>
    <button onclick="build()">Gebäude bauen (Ressourcen)</button>
  </div>
</div>

<div id="dungeon" class="section">
  <h2>Dungeons</h2>
  <p>Du brauchst einen Dungeon-Schlüssel, um einen Dungeon zu betreten.</p>
  <button onclick="findKey()">Dungeon-Schlüssel finden</button>
  <p>Schlüssel: <span id="keys">0</span></p>
  <button onclick="enterDungeon()">Dungeon betreten</button>
  <p id="dungeonText">Noch kein Dungeon betreten.</p>
</div>

<div id="skills" class="section">
  <h2>Skills</h2>
  <p>Skillpunkte: <span id="skillPoints">0</span></p>
  <button onclick="buySkill()">Skill kaufen (10 Gold)</button>
</div>

<script>
let level = 1;
let gold = 50;
let schoko = 1;
let exp = 0;
let expNext = 100;
let questActive = false;
let keys = 0;
let skillPoints = 0;

let player = {
  klasse: "Krieger",
  weapon: "Schwert",
  armor: "Gewöhnlich",
  str: 10,
  int: 5,
  dex: 5
};

function show(id) {
  document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

function updateUI() {
  document.getElementById("level").innerText = level;
  document.getElementById("gold").innerText = gold;
  document.getElementById("schoko").innerText = schoko;
  document.getElementById("exp").innerText = exp;
  document.getElementById("expNext").innerText = expNext;
  document.getElementById("keys").innerText = keys;
  document.getElementById("skillPoints").innerText = skillPoints;
  document.getElementById("klasse").innerText = player.klasse;
  document.getElementById("weapon").innerText = player.weapon;
  document.getElementById("armor").innerText = player.armor;
}

function acceptQuest() {
  if (questActive) {
    alert("Du hast bereits eine Quest.");
    return;
  }
  questActive = true;
  document.getElementById("questText").innerText = "Quest läuft… Monster bekämpfen.";
  show('quests');
}

function finishQuest() {
  if (!questActive) {
    alert("Keine aktive Quest.");
    return;
  }
  questActive = false;
  exp += 50;
  gold += 20;
  checkLevel();
  updateUI();
  document.getElementById("questText").innerText = "Quest abgeschlossen!";
}

function eat() {
  if (gold < 10) {
    alert("Nicht genug Gold.");
    return;
  }
  gold -= 10;
  updateUI();
  alert("Buff aktiv!");
}

function cityGuard() {
  gold += 5;
  updateUI();
}

function build() {
  // Simples Ressourcensystem
  gold += 5;
  updateUI();
  alert("Gebäude gebaut! (Ressourcen erhalten)");
}

function findKey() {
  keys++;
  updateUI();
  alert("Dungeon-Schlüssel gefunden!");
}

function enterDungeon() {
  if (keys <= 0) {
    alert("Du brauchst einen Schlüssel!");
    return;
  }
  keys--;
  updateUI();
  dungeonBattle();
}

function dungeonBattle() {
  let enemy = {
    name: "Kobold",
    hp: 50,
    atk: 5
  };

  let playerAtk = player.str + (player.weapon === "Zweihänder Axt" ? 10 : 5);
  let enemyHp = enemy.hp;

  while (enemyHp > 0) {
    enemyHp -= playerAtk;
    if (enemyHp <= 0) break;
    // enemy attacks
    // player takes damage (not implemented for simplicity)
  }

  exp += 80;
  gold += 50;
  skillPoints += 1;
  checkLevel();
  updateUI();
  document.getElementById("dungeonText").innerText = "Dungeon abgeschlossen! Boss besiegt.";
}

function checkLevel() {
  while (exp >= expNext) {
    exp -= expNext;
    level++;
    expNext = Math.floor(expNext * 1.2);
    gold += 20;
    skillPoints += 1;
    alert("Level up!");
  }
}

function buySkill() {
  if (gold < 10) {
    alert("Nicht genug Gold.");
    return;
  }
  gold -= 10;
  skillPoints++;
  updateUI();
}

// save system
function save() {
  const saveData = {
    level, gold, schoko, exp, expNext, keys, skillPoints, player, questActive
  };
  localStorage.setItem("comicKingdomV5", JSON.stringify(saveData));
}

function load() {
  const saveData = JSON.parse(localStorage.getItem("comicKingdomV5"));
  if (!saveData) return;
  level = saveData.level;
  gold = saveData.gold;
  schoko = saveData.schoko;
  exp = saveData.exp;
  expNext = saveData.expNext;
  keys = saveData.keys;
  skillPoints = saveData.skillPoints;
  player = saveData.player;
  questActive = saveData.questActive;
  updateUI();
}

window.onload = () => {
  load();
  updateUI();
  setInterval(save, 2000);
};

</script>
</body>
</html>
