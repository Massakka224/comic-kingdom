<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Comic Kingdom</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f2f2f2;
  margin: 0;
  padding-top: 80px;
}
h1, h2 { text-align: center; }
button {
  width: 100%;
  padding: 12px;
  margin: 6px 0;
  font-size: 16px;
}
nav {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  background: white;
  padding: 10px;
  display: none;
  z-index: 10;
}
.section { display: none; padding: 15px; }
.section.active { display: block; }
.box {
  background: white;
  padding: 15px;
  border-radius: 10px;
  margin-bottom: 15px;
}
.item {
  border: 1px solid #ccc;
  padding: 8px;
  margin: 5px 0;
  cursor: pointer;
}
.skill {
  border: 1px solid #aaa;
  padding: 8px;
  margin: 6px 0;
}
</style>
</head>

<body>

<h1>Comic Kingdom</h1>

<!-- NAV -->
<nav id="gameNav">
  <button onclick="show('status')">Status</button>
  <button onclick="show('quests')">Quests</button>
  <button onclick="show('dungeon')">Dungeon</button>
  <button onclick="show('stadt')">Stadt</button>
  <button onclick="show('inventar')">Inventar</button>
  <button onclick="show('skills')">Skills</button>
</nav>

<!-- CHARAKTERAUSWAHL -->
<div id="characterScreen" class="section active">
  <div class="box">
    <h2>Charakter erstellen</h2>
    <input id="charName" placeholder="Name" style="width:100%;padding:10px;"><br><br>
    <button onclick="selectClass('Krieger')">Krieger</button>
    <button onclick="selectClass('Magier')">Magier</button>
    <button onclick="selectClass('Nekromant')">Nekromant</button>
  </div>
</div>

<!-- STATUS -->
<div id="status" class="section">
  <div class="box">
    <p>Name: <b id="pName"></b></p>
    <p>Klasse: <b id="pClass"></b></p>
    <p>Level: <b id="level"></b></p>
    <p>Gold: <b id="gold"></b></p>
    <p>Skillpunkte: <b id="skillPoints"></b></p>
  </div>
</div>

<!-- QUESTS -->
<div id="quests" class="section">
  <div class="box">
    <button onclick="finishQuest()">Quest abschließen</button>
    <p>Belohnung: XP & Gold</p>
  </div>
</div>

<!-- DUNGEON -->
<div id="dungeon" class="section">
  <div class="box">
    <button onclick="runDungeon()">Dungeon kämpfen</button>
    <p id="dungeonText"></p>
  </div>
</div>

<!-- STADT -->
<div id="stadt" class="section">
  <div class="box">
    <h2>Stadt</h2>
    <button>Schmiede</button>
    <button>Taverne</button>
    <button>Magierturm</button>
    <button>Festung</button>
  </div>
</div>

<!-- INVENTAR -->
<div id="inventar" class="section">
  <div class="box" id="inventoryBox"></div>
</div>

<!-- SKILLS -->
<div id="skills" class="section">
  <div class="box">
    <h2>Skillbaum</h2>
    <p>Verfügbare Punkte: <b id="skillPoints2"></b></p>

    <div class="skill">
      Stärke (+2 Schaden)
      <button onclick="upgradeSkill('strength')">+</button>
      Level: <span id="strength">0</span>
    </div>

    <div class="skill">
      Verteidigung (+2 Rüstung)
      <button onclick="upgradeSkill('defense')">+</button>
      Level: <span id="defense">0</span>
    </div>

    <div class="skill">
      Leben (+10 HP)
      <button onclick="upgradeSkill('health')">+</button>
      Level: <span id="health">0</span>
    </div>
  </div>
</div>

<script>
let player = JSON.parse(localStorage.getItem("player")) || null;

function selectClass(cls) {
  const name = document.getElementById("charName").value;
  if (!name) return alert("Name eingeben!");

  player = {
    name,
    class: cls,
    level: 1,
    gold: 50,
    skillPoints: 0,
    skills: { strength: 0, defense: 0, health: 0 },
    inventory: []
  };

  save();
  startGame();
}

function startGame() {
  document.getElementById("characterScreen").classList.remove("active");
  document.getElementById("gameNav").style.display = "block";
  updateUI();
  show("status");
}

function show(id) {
  document.querySelectorAll(".section").forEach(s => s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

function finishQuest() {
  player.level++;
  player.gold += 20;
  player.skillPoints++;
  save();
  updateUI();
}

function runDungeon() {
  player.gold += 30;
  document.getElementById("dungeonText").innerText = "Dungeon geschafft!";
  save();
  updateUI();
}

function upgradeSkill(skill) {
  if (player.skillPoints <= 0) return;
  player.skills[skill]++;
  player.skillPoints--;
  save();
  updateUI();
}

function updateUI() {
  document.getElementById("pName").innerText = player.name;
  document.getElementById("pClass").innerText = player.class;
  document.getElementById("level").innerText = player.level;
  document.getElementById("gold").innerText = player.gold;
  document.getElementById("skillPoints").innerText = player.skillPoints;
  document.getElementById("skillPoints2").innerText = player.skillPoints;

  document.getElementById("strength").innerText = player.skills.strength;
  document.getElementById("defense").innerText = player.skills.defense;
  document.getElementById("health").innerText = player.skills.health;

  document.getElementById("inventoryBox").innerText =
    player.inventory.length ? player.inventory.join(", ") : "Inventar leer";
}

function save() {
  localStorage.setItem("player", JSON.stringify(player));
}

if (player) startGame();
</script>

</body>
</html>
