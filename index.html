<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Comic Kingdom â€“ Version 8.1</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f2f2f2;
  margin: 0;
}

h1, h2 {
  text-align: center;
}

nav {
  position: sticky;
  top: 0;
  background: #222;
  padding: 10px;
  display: flex;
  gap: 5px;
}

nav button {
  flex: 1;
  padding: 10px;
  background: #444;
  color: white;
  border: none;
  border-radius: 5px;
}

.section {
  display: none;
  padding: 15px;
}

.section.active {
  display: block;
}

.box {
  background: white;
  padding: 15px;
  border-radius: 10px;
  margin-bottom: 15px;
}

.building {
  background: #ddd;
  padding: 15px;
  border-radius: 10px;
  margin: 10px 0;
  cursor: pointer;
  font-weight: bold;
}

.item {
  border: 1px solid #aaa;
  padding: 10px;
  margin: 5px 0;
  border-radius: 5px;
}
</style>
</head>

<body>

<h1>Comic Kingdom</h1>

<nav>
  <button onclick="show('status')">Status</button>
  <button onclick="show('quests')">Quests</button>
  <button onclick="show('dungeon')">Dungeon</button>
  <button onclick="show('city')">Stadt</button>
  <button onclick="show('inventory')">Inventar</button>
</nav>

<!-- CHARAKTER -->
<div id="character" class="section active">
  <h2>WÃ¤hle deine Klasse</h2>
  <div class="box">
    <button onclick="selectClass('Krieger')">âš” Krieger</button><br><br>
    <button onclick="selectClass('Berserker')">ğŸª“ Berserker</button><br><br>
    <button onclick="selectClass('Magier')">ğŸ”® Magier</button><br><br>
    <button onclick="selectClass('Nekromant')">ğŸ’€ Nekromant</button>
  </div>
</div>

<div id="status" class="section">
  <h2>Status</h2>
  <div class="box">
    <p>Klasse: <span id="class"></span></p>
    <p>Level: <span id="level"></span></p>
    <p>Gold: <span id="gold"></span></p>
    <p>Energie: <span id="energy"></span>/100</p>
    <p>Schokolade: <span id="choco"></span></p>
  </div>
</div>

<div id="quests" class="section">
  <h2>Quests</h2>
  <div class="box">
    <p id="questText">Keine aktive Quest</p>
    <button onclick="startQuest()">Quest annehmen</button>
    <button onclick="finishQuest()">Quest abschlieÃŸen</button>
  </div>
</div>

<div id="dungeon" class="section">
  <h2>Dungeon</h2>
  <div class="box">
    <button onclick="runDungeon()">Dungeon betreten</button>
  </div>
</div>

<div id="city" class="section">
  <h2>Stadt</h2>
  <div class="building" onclick="tavern()">ğŸº Taverne</div>
  <div class="building">âš’ Schmiede</div>
  <div class="building">ğŸŒ¾ Farm</div>
  <div class="building">ğŸ° Festung</div>
  <div class="box" id="cityBox">WÃ¤hle ein GebÃ¤ude</div>
</div>

<div id="inventory" class="section">
  <h2>Inventar</h2>
  <div class="box" id="inv"></div>
</div>

<script>
let player = {
  class: "",
  level: 1,
  gold: 50,
  energy: 100,
  choco: 1,
  inventory: []
};

const itemPool = [
  "Rostiges Schwert",
  "Magischer Stab",
  "Schattenhelm",
  "Axt der Bestie",
  "Umhang des Lehrlings"
];

function save() {
  localStorage.setItem("comicKingdomSave", JSON.stringify(player));
}

function load() {
  const data = localStorage.getItem("comicKingdomSave");
  if (data) {
    player = JSON.parse(data);
    updateUI();
    show("status");
  }
}

function show(id) {
  document.querySelectorAll(".section").forEach(s => s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

function selectClass(c) {
  player.class = c;
  save();
  updateUI();
  show("status");
}

function updateUI() {
  document.getElementById("class").innerText = player.class;
  document.getElementById("level").innerText = player.level;
  document.getElementById("gold").innerText = player.gold;
  document.getElementById("energy").innerText = player.energy;
  document.getElementById("choco").innerText = player.choco;

  const inv = document.getElementById("inv");
  inv.innerHTML = "";
  player.inventory.forEach(i => {
    const d = document.createElement("div");
    d.className = "item";
    d.innerText = i;
    inv.appendChild(d);
  });
}

function startQuest() {
  if (player.energy < 10) return alert("Zu wenig Energie");
  player.energy -= 10;
  save();
  updateUI();
  document.getElementById("questText").innerText = "Quest lÃ¤uft...";
}

function finishQuest() {
  player.level++;
  player.gold += 20;
  const item = itemPool[Math.floor(Math.random() * itemPool.length)];
  player.inventory.push(item);
  save();
  updateUI();
  document.getElementById("questText").innerText = "Quest abgeschlossen!";
}

function runDungeon() {
  if (player.energy < 20) return alert("Zu wenig Energie");
  player.energy -= 20;
  player.gold += 50;
  save();
  updateUI();
}

function tavern() {
  document.getElementById("cityBox").innerHTML =
    "<p>Essen kaufen (+20 Energie)</p><button onclick='eat()'>Essen</button>";
}

function eat() {
  if (player.choco <= 0) return alert("Keine Schokolade");
  player.choco--;
  player.energy = Math.min(100, player.energy + 20);
  save();
  updateUI();
}

load();
</script>

</body>
</html>
