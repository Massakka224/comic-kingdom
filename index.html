<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Comic Kingdom ‚Äì Version 8.1</title>

<style>
body { font-family: Arial, sans-serif; background:#f2f2f2; margin:0 }
h1,h2,h3{text-align:center}
button{padding:10px;margin:5px;width:100%;font-size:16px}
.section{display:none;padding:20px}
.section.active{display:block}
.box{background:#fff;padding:15px;margin:10px auto;border-radius:10px;max-width:400px}
.item{border:1px solid #ccc;padding:8px;margin:5px 0;cursor:pointer}
.item:hover{background:#eee}
nav{background:#fff;padding:5px;position:sticky;top:0}
</style>
</head>

<body>

<!-- CHARAKTERAUSWAHL -->
<div id="charSelect" class="section active">
<h1>Comic Kingdom</h1>

<div class="box">
<h3>Charakter ausw√§hlen</h3>
<div id="charList"></div>
</div>

<div class="box">
<h3>Neuen Charakter erstellen</h3>
<input id="newName" placeholder="Name" style="width:100%;padding:8px"><br><br>
<select id="newClass" style="width:100%;padding:8px">
<option>Krieger</option>
<option>Magier</option>
<option>Kundschafter</option>
<option>Assassine</option>
<option>Berserker</option>
<option>Nekromant</option>
</select><br><br>
<button onclick="createCharacter()">Charakter erstellen</button>
</div>
</div>

<!-- SPIEL -->
<div id="game" class="section">

<nav>
<button onclick="show('status')">Status</button>
<button onclick="show('quests')">Quests</button>
<button onclick="show('dungeon')">Dungeon</button>
<button onclick="show('stadt')">Stadt</button>
<button onclick="show('inventar')">Inventar</button>
<button onclick="show('ausruestung')">Ausr√ºstung</button>
<button onclick="saveGame()">üíæ Speichern</button>
</nav>

<div id="status" class="section active">
<div class="box">
<p>Name: <span id="pname"></span></p>
<p>Klasse: <span id="pclass"></span></p>
<p>Level: <span id="plevel"></span></p>
<p>Gold: <span id="pgold"></span></p>
</div>
</div>

<div id="quests" class="section">
<div class="box">
<button onclick="doQuest()">Quest abschlie√üen</button>
<p id="qtext"></p>
</div>
</div>

<div id="dungeon" class="section">
<div class="box">
<button onclick="doDungeon()">Dungeon betreten</button>
<p id="dtext"></p>
</div>
</div>

<div id="stadt" class="section">
<div class="box">
<button onclick="alert('Taverne ‚Äì Buffs sp√§ter')">üç∫ Taverne</button>
<button onclick="alert('Schmiede ‚Äì Upgrades sp√§ter')">‚öí Schmiede</button>
<button onclick="alert('Festung ‚Äì Boni sp√§ter')">üè∞ Festung</button>
</div>
</div>

<div id="inventar" class="section">
<div class="box" id="inv"></div>
</div>

<div id="ausruestung" class="section">
<div class="box" id="equip"></div>
</div>

</div>

<script>
let characters = JSON.parse(localStorage.getItem("ck_chars")) || [];
let currentChar = null;

/* ===== CHARAKTER ===== */
function renderCharList(){
 let list=document.getElementById("charList");
 list.innerHTML="";
 if(characters.length===0) list.innerHTML="<p>Keine Charaktere</p>";
 characters.forEach((c,i)=>{
  let d=document.createElement("div");
  d.className="item";
  d.innerHTML=`${c.name} (Lvl ${c.level} ${c.cls})<br>
  <button onclick="selectChar(${i})">Spielen</button>
  <button onclick="deleteChar(${i})">L√∂schen</button>`;
  list.appendChild(d);
 });
}

function createCharacter(){
 let name=newName.value.trim();
 let cls=newClass.value;
 if(!name) return alert("Name fehlt");
 characters.push({
  name,cls,level:1,gold:50,inventory:[],equipped:null
 });
 saveChars();
 renderCharList();
}

function selectChar(i){
 currentChar=characters[i];
 startGame();
}

function deleteChar(i){
 if(confirm("Charakter l√∂schen?")){
  characters.splice(i,1);
  saveChars();renderCharList();
 }
}

function saveChars(){
 localStorage.setItem("ck_chars",JSON.stringify(characters));
}

/* ===== SPIEL ===== */
function startGame(){
 charSelect.classList.remove("active");
 game.classList.add("active");
 show("status");
 updateUI();
}

function show(id){
 document.querySelectorAll("#game .section").forEach(s=>s.classList.remove("active"));
 document.getElementById(id).classList.add("active");
}

function updateUI(){
 pname.textContent=currentChar.name;
 pclass.textContent=currentChar.cls;
 plevel.textContent=currentChar.level;
 pgold.textContent=currentChar.gold;

 inv.innerHTML="";
 currentChar.inventory.forEach(it=>{
  let d=document.createElement("div");
  d.className="item";
  d.textContent=it;
  inv.appendChild(d);
 });

 equip.textContent=currentChar.equipped || "Nichts ausger√ºstet";
}

function doQuest(){
 currentChar.level++;
 currentChar.gold+=20;
 currentChar.inventory.push("Beute-Item");
 qtext.textContent="Quest erledigt!";
 saveChars();updateUI();
}

function doDungeon(){
 currentChar.level+=2;
 currentChar.gold+=50;
 currentChar.inventory.push("Dungeon-Item");
 dtext.textContent="Dungeon geschafft!";
 saveChars();updateUI();
}

renderCharList();
</script>

</body>
</html>
