<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Comic Kingdom – Version 11.2</title>

<style>
body {
  font-family: Arial, sans-serif;
  background:#f2f2f2;
  margin:0;
  padding-top:80px;
}

nav {
  position:fixed;
  top:0; left:0; right:0;
  background:#fff;
  padding:10px;
  display:flex;
  gap:5px;
  z-index:10;
}

nav button {
  flex:1;
  padding:10px;
  font-size:14px;
}

.section { display:none; padding:15px; }
.section.active { display:block; }

.box {
  background:#fff;
  padding:15px;
  border-radius:10px;
  margin-bottom:15px;
}

.item {
  border:1px solid #ccc;
  padding:10px;
  margin:5px 0;
  cursor:pointer;
}
.item:hover { background:#eee; }
</style>
</head>

<body>

<nav>
<button onclick="show('status')">Status</button>
<button onclick="show('quests')">Quests</button>
<button onclick="show('stadt')">Stadt</button>
<button onclick="show('inventar')">Inventar</button>
</nav>

<!-- STATUS -->
<div id="status" class="section active">
<div class="box">
<h2>Status</h2>
<p>Klasse: <b id="klasse"></b></p>
<p>Level: <b id="level"></b></p>
<p>Erfahrung: <b id="xp"></b></p>
<p>Gold: <b id="gold"></b></p>
</div>
</div>

<!-- QUESTS -->
<div id="quests" class="section">
<div class="box">
<h2>Quest</h2>
<button onclick="finishQuest()">Quest abschließen</button>
<p id="questResult"></p>
</div>
</div>

<!-- STADT -->
<div id="stadt" class="section">
<div class="box">
<h2>Stadt</h2>
<ul>
<li>Schmiede (Upgrade)</li>
<li>Taverne (Quests)</li>
<li>Magier (Verzaubern)</li>
</ul>
</div>
</div>

<!-- INVENTAR -->
<div id="inventar" class="section">
<div class="box">
<h2>Inventar</h2>
<div id="inventoryBox">Inventar leer</div>
</div>
</div>

<script>
// ================= SPIELER =================
const player = {
  class: "Krieger",
  level: 1,
  xp: 0,
  xpMax: 100,
  gold: 50,
  inventory: []
};

// ================= KLASSEN-ITEMS =================
const classItems = {
  Krieger: ["Schwert der Ehre","Axt des Zorns","Titanenklinge"],
  Magier: ["Stab der Weisheit","Flammenfokus"],
  Kundschafter: ["Dolch der Schatten","Bogen des Windes"],
  Nekromant: ["Seelensichel","Fluchstab"]
};

// ================= QUALITÄTEN =================
const qualities = [
  { name:"Gewöhnlich", min:1 },
  { name:"Ungewöhnlich", min:20 },
  { name:"Selten", min:30 },
  { name:"Episch", min:100 },
  { name:"Legendär", min:150 }
];

// ================= NAV =================
function show(id) {
  document.querySelectorAll(".section").forEach(s => s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

// ================= ITEM =================
function generateItem() {
  const possible = qualities.filter(q => player.level >= q.min);
  const quality = possible[Math.floor(Math.random() * possible.length)];
  const names = classItems[player.class];
  return {
    name: names[Math.floor(Math.random() * names.length)],
    quality: quality.name,
    level: player.level
  };
}

// ================= QUEST =================
function finishQuest() {
  const xpGain = 40;
  const goldGain = 20;

  player.xp += xpGain;
  player.gold += goldGain;

  let leveledUp = false;
  if (player.xp >= player.xpMax) {
    player.level++;
    player.xp -= player.xpMax;
    leveledUp = true;
  }

  const item = generateItem();
  player.inventory.push(item);

  document.getElementById("questResult").innerHTML =
    `+${xpGain} XP<br>+${goldGain} Gold<br>
     Item: <b>${item.name}</b><br>
     ${leveledUp ? "<b>LEVEL UP!</b>" : ""}`;

  updateUI();
}

// ================= UI =================
function updateUI() {
  document.getElementById("klasse").innerText = player.class;
  document.getElementById("level").innerText = player.level;
  document.getElementById("xp").innerText = `${player.xp} / ${player.xpMax}`;
  document.getElementById("gold").innerText = player.gold;

  const inv = document.getElementById("inventoryBox");
  inv.innerHTML = "";

  if (player.inventory.length === 0) {
    inv.innerText = "Inventar leer";
  } else {
    player.inventory.forEach(item => {
      const div = document.createElement("div");
      div.className = "item";
      div.innerHTML = `<b>${item.name}</b><br>${item.quality}`;
      div.onclick = e => {
        e.stopPropagation();
        alert(`${item.name}\nQualität: ${item.quality}`);
      };
      inv.appendChild(div);
    });
  }
}

updateUI();
</script>

</body>
</html>
