<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fantasy RPG</title>
<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #1e1e1e;
  color: #fff;
}
.container {
  max-width: 600px;
  margin: auto;
  padding: 20px;
}
.box {
  background: #2a2a2a;
  padding: 15px;
  border-radius: 10px;
  margin-bottom: 15px;
}
button {
  padding: 8px 12px;
  margin: 4px;
  border: none;
  border-radius: 6px;
  cursor: pointer;
}
button.play { background: #4caf50; }
button.delete { background: #f44336; }
button.create { background: #2196f3; }
input, select {
  padding: 6px;
  margin-right: 6px;
}
.hidden { display: none; }
</style>
</head>
<body>

<div class="container">

<h1>Fantasy RPG</h1>

<!-- CHARAKTERAUSWAHL -->
<div id="characterScreen" class="box">
  <h2>Charakterauswahl</h2>
  <div id="characterList"></div>

  <hr>

  <input id="charName" placeholder="Name">
  <select id="charClass">
    <option>Krieger</option>
    <option>Mage</option>
    <option>Späher</option>
    <option>Nekromant</option>
  </select>
  <button class="create" onclick="createCharacter()">Neuer Charakter</button>
</div>

<!-- SPIEL -->
<div id="gameScreen" class="hidden">
  <div class="box">
    <h2 id="playerName"></h2>
    <p>Klasse: <span id="playerClass"></span></p>
    <p>Level: <span id="playerLevel"></span></p>
    <p>Gold: <span id="playerGold"></span></p>
  </div>

  <div class="box">
    <button onclick="doQuest()">Quest machen</button>
    <button onclick="saveGame()">Speichern</button>
    <button onclick="logout()">Zurück zur Auswahl</button>
  </div>
</div>

</div>

<script>
let characters = JSON.parse(localStorage.getItem("characters")) || [];
let activeCharacter = null;

function saveCharacters() {
  localStorage.setItem("characters", JSON.stringify(characters));
}

function renderCharacters() {
  const list = document.getElementById("characterList");
  list.innerHTML = "";

  if (characters.length === 0) {
    list.innerHTML = "<p>Keine Charaktere vorhanden</p>";
    return;
  }

  characters.forEach((c, i) => {
    const div = document.createElement("div");
    div.innerHTML = `
      <b>${c.name}</b> (${c.class})
      <br>
      <button class="play" onclick="playCharacter(${i})">Spielen</button>
      <button class="delete" onclick="deleteCharacter(${i})">X</button>
      <hr>
    `;
    list.appendChild(div);
  });
}

function createCharacter() {
  const name = document.getElementById("charName").value.trim();
  const cls = document.getElementById("charClass").value;

  if (!name) {
    alert("Name fehlt");
    return;
  }

  characters.push({
    name,
    class: cls,
    level: 1,
    gold: 0
  });

  saveCharacters();
  renderCharacters();
  document.getElementById("charName").value = "";
}

function deleteCharacter(i) {
  if (!confirm("Charakter wirklich löschen?")) return;
  characters.splice(i, 1);
  saveCharacters();
  renderCharacters();
}

function playCharacter(i) {
  activeCharacter = characters[i];
  document.getElementBy
